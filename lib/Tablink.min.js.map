{"version":3,"file":"Tablink.min.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAiB,QAAID,IAErBD,EAAc,QAAIC,IARpB,CASGK,MAAM,I,mBCRT,IAAIC,EAAsB,CCA1BA,EAAwB,CAACL,EAASM,KACjC,IAAI,IAAIC,KAAOD,EACXD,EAAoBG,EAAEF,EAAYC,KAASF,EAAoBG,EAAER,EAASO,IAC5EE,OAAOC,eAAeV,EAASO,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3EF,EAAwB,CAACQ,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,I,gSCgGlF,QAzFMI,WACF,aAAwB,IAAZC,EAAY,uDAAJ,GAAI,UACpBf,KAAKgB,UAAY,EACjBhB,KAAKiB,WAAaF,EAAME,YAAc,KACtCjB,KAAKkB,OAASH,EAAMG,QAAU,KAC9BlB,KAAKmB,YAAcJ,EAAMI,aAAe,KACxCnB,KAAKoB,OAASL,EAAMK,QAAU,EAC9BpB,KAAKqB,SAAWN,EAAMM,UAAY,K,4CAGtC,WACI,IAAIC,EAAUtB,KAAKiB,WAAWM,aAC1BC,EAAcxB,KAAKiB,WAAWQ,aAC9BC,EAAQ1B,KACZA,KAAKiB,WAAWU,iBAAiB,SAAU3B,KAAK4B,UAAS,WAIrD,IAHA,IAAIC,EAAYH,EAAMT,WAAWY,UAAYH,EAAMN,OAC/CU,EAAWD,EAAYL,GAAeF,EACtCS,EAAW,KACNC,EAAI,EAAGA,EAAIN,EAAMP,YAAYc,OAAQD,IAAK,CAC/C,IAAIE,EAASR,EAAMP,YAAYa,GAAGG,UAAYT,EAAMN,OAEpD,GAAIY,IAAMN,EAAMP,YAAYc,OAAS,EAAG,CACpC,IAAIG,EAAYV,EAAMP,YAAYa,GAAGK,aACrCN,EACIF,GAAaK,GACbL,GAAaK,EAASE,MACvB,CACH,IAAIE,EAAUZ,EAAMP,YAAYa,EAAI,GAAGG,UACvCJ,EAAWF,GAAaK,GAAUL,EAAYS,EAE9CP,IAAUL,EAAMV,SAAWgB,GAE3BH,EAAYH,EAAMP,YAAY,GAAGgB,YAAWT,EAAMV,UAAY,GAE9Dc,IAAUJ,EAAMV,SAAWU,EAAMP,YAAYc,OAAS,GAE9DP,EAAML,SAASK,EAAMV,YACtB,IAAK,Q,mBAGZ,SAAMuB,EAAIC,GACN,GAAKD,GAAOC,EAAZ,CACAxC,KAAKgB,SAAWwB,EAChB,IAAIC,EAAMC,SAASC,eAAeJ,GAClCvC,KAAKiB,WAAW2B,SAAS,EAAGH,EAAIN,UAAYnC,KAAKoB,W,sBAGrD,SAASyB,EAAMC,EAAMC,GACjB,IAAIC,EACAC,EAAY,IAAIC,KAEpB,OAAO,WACH,IAAIC,EAAUnD,KACVoD,EAAOC,UACPC,EAAU,IAAIJ,KAElBK,aAAaP,GAETM,EAAUL,GAAaF,GACvBF,EAAKW,MAAML,EAASC,GACpBH,EAAYK,GAGZN,EAAUS,WAAWZ,EAAMC,M,sBAKvC,SAASD,EAAMC,EAAMY,GACjB,IAAIV,EACJ,OAAO,WACH,IAAIG,EAAUnD,KAAMoD,EAAOC,UACvBM,EAAQ,WACRX,EAAU,KACLU,GAAWb,EAAKW,MAAML,EAASC,IAEpCQ,EAAUF,IAAcV,EAC5BO,aAAaP,GACbA,EAAUS,WAAWE,EAAOb,GACxBc,GAASf,EAAKW,MAAML,EAASC,M,kBAIzC,WACSpD,KAAKiB,YACVjB,KAAK6D,c,yEArFP/C,G","sources":["webpack://Tablink/webpack/universalModuleDefinition","webpack://Tablink/webpack/bootstrap","webpack://Tablink/webpack/runtime/define property getters","webpack://Tablink/webpack/runtime/hasOwnProperty shorthand","webpack://Tablink/./src/tablink.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Tablink\"] = factory();\n\telse\n\t\troot[\"Tablink\"] = factory();\n})(this, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/**\n * tablink tablink.js\n * @author kongjianqiu\n * @description\n * @created 2022/6/10 16:28:44\n */\n\nclass Tablink {\n    constructor(props = {}) {\n        this.tabIndex = -1;\n        this.contentDom = props.contentDom || null\n        this.tabDom = props.tabDom || null\n        this.itemListDom = props.itemListDom || null\n        this.offset = props.offset || 0\n        this.callback = props.callback || null\n    }\n\n    listener() {\n        let scrollH = this.contentDom.scrollHeight\n        let contentDomH = this.contentDom.clientHeight\n        let _this = this\n        this.contentDom.addEventListener('scroll', this.throttle(function () {\n            let scrollTop = _this.contentDom.scrollTop + _this.offset;\n            let isBottom = scrollTop + contentDomH >= scrollH;\n            let interval = null;\n            for (let i = 0; i < _this.itemListDom.length; i++) {\n                let curTop = _this.itemListDom[i].offsetTop - _this.offset;\n                // 如果是最后一个\n                if (i === _this.itemListDom.length - 1) {\n                    let curHeight = _this.itemListDom[i].offsetHeight;\n                    interval =\n                        scrollTop >= curTop &&\n                        scrollTop <= curTop + curHeight;\n                } else {\n                    let nextTop = _this.itemListDom[i + 1].offsetTop;\n                    interval = scrollTop >= curTop && scrollTop < nextTop;\n                }\n                if (interval) _this.tabIndex = i;\n                // 滚动到第一个字母前\n                if (scrollTop < _this.itemListDom[0].offsetTop) _this.tabIndex = -1;\n                // 滚动到页面最底部（最后一个字母时）\n                if (isBottom) _this.tabIndex = _this.itemListDom.length - 1;\n            }\n            _this.callback(_this.tabIndex)\n        }, 200, 500))\n    }\n\n    click(id, index) {\n        if (!id || !index) return\n        this.tabIndex = index;\n        let dom = document.getElementById(id);\n        this.contentDom.scrollTo(0, dom.offsetTop - this.offset);\n    }\n\n    throttle(func, wait, mustRun) {\n        let timeout,\n            startTime = new Date();\n\n        return function () {\n            let context = this,\n                args = arguments,\n                curTime = new Date();\n\n            clearTimeout(timeout);\n            // 如果达到了规定的触发时间间隔，触发 handler\n            if (curTime - startTime >= mustRun) {\n                func.apply(context, args);\n                startTime = curTime;\n                // 没达到触发间隔，重新设定定时器\n            } else {\n                timeout = setTimeout(func, wait);\n            }\n        };\n    };\n\n    debounce(func, wait, immediate) {\n        let timeout;\n        return function () {\n            let context = this, args = arguments;\n            let later = function () {\n                timeout = null;\n                if (!immediate) func.apply(context, args);\n            };\n            let callNow = immediate && !timeout;\n            clearTimeout(timeout);\n            timeout = setTimeout(later, wait);\n            if (callNow) func.apply(context, args);\n        };\n    };\n\n    init() {\n        if (!this.contentDom) return\n        this.listener()\n    }\n}\n\nexport default Tablink\n"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Tablink","props","tabIndex","contentDom","tabDom","itemListDom","offset","callback","scrollH","scrollHeight","contentDomH","clientHeight","_this","addEventListener","throttle","scrollTop","isBottom","interval","i","length","curTop","offsetTop","curHeight","offsetHeight","nextTop","id","index","dom","document","getElementById","scrollTo","func","wait","mustRun","timeout","startTime","Date","context","args","arguments","curTime","clearTimeout","apply","setTimeout","immediate","later","callNow","listener"],"sourceRoot":""}